<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rahul Jain - Strategy & Transformation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117;
            color: #c9d1d9;
        }
        .glass-effect {
            background: rgba(13, 17, 23, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .accent-text { color: #58a6ff; }
        .btn-primary { background-color: #238636; transition: background-color 0.3s ease; }
        .btn-primary:hover { background-color: #2ea043; }
        .btn-secondary { background-color: #21262d; border: 1px solid #30363d; transition: all 0.3s ease; }
        .btn-secondary:hover { background-color: #30363d; border-color: #8b949e; }
        .project-item.active { background-color: rgba(88, 166, 255, 0.1); border-left-color: #58a6ff; }
        #project-details-content { transition: opacity 0.4s ease-in-out; }
        .fade-in { animation: fadeIn 0.5s forwards; }
        @keyframes fadeIn { to { opacity: 1; } }
        .skill-tag { cursor: pointer; transition: all 0.2s ease; }
        .skill-tag.active, .skill-tag:hover { background-color: #58a6ff; color: #0d1117; transform: translateY(-2px); }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0d1117; }
        ::-webkit-scrollbar-thumb { background: #21262d; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #30363d; }
    </style>
</head>
<body class="antialiased">

    <div class="absolute top-0 left-0 w-full h-full z-0 opacity-10" style="background-image: radial-gradient(#21262d 1px, transparent 1px); background-size: 20px 20px;"></div>

    <div class="relative z-10">
        <header class="sticky top-0 z-30 glass-effect">
            <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
                <a href="#" class="text-xl font-bold text-white">Rahul Jain</a>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#experience" class="hover:text-white transition">Experience</a>
                    <a href="#skills" class="hover:text-white transition">Skills</a>
                    <a href="https://raw.githubusercontent.com/rjjainrahul97/rahuljain.github.io/main/Rahul%20Jain%20Monitor%20Deloitte%20Feb%202025.pdf" download class="btn-secondary text-white px-4 py-2 rounded-md text-sm font-medium">Download Resume</a>
                </div>
                <div class="md:hidden">
                    <a href="https://raw.githubusercontent.com/rjjainrahul97/rahuljain.github.io/main/Rahul%20Jain%20Monitor%20Deloitte%20Feb%202025.pdf" download class="btn-secondary text-white px-3 py-1.5 rounded-md text-xs font-medium">Resume</a>
                </div>
            </nav>
        </header>

        <main class="container mx-auto px-6 py-16 md:py-24">
            <section id="home" class="text-center max-w-4xl mx-auto">
                <h1 class="text-4xl md:text-6xl font-extrabold text-white leading-tight tracking-tight">
                    Driving Strategic Growth in the Digital Economy
                </h1>
                <p class="mt-6 text-lg md:text-xl text-gray-400">
                    A management consultant with a track record in <span class="accent-text font-medium">Go-to-Market Strategy</span>, <span class="accent-text font-medium">Sales Transformation</span>, and <span class="accent-text font-medium">Product Management</span> for global tech leaders.
                </p>
                <div class="mt-10 flex justify-center gap-4">
                    <a href="#experience" class="btn-primary text-white px-8 py-3 rounded-lg font-semibold text-lg">Explore My Work</a>
                </div>
            </section>

            <section id="experience" class="mt-24 md:mt-32">
                <h2 class="text-3xl md:text-4xl font-bold text-center text-white">Professional Experience</h2>
                <div class="mt-12 md:grid md:grid-cols-12 md:gap-12 glass-effect rounded-xl p-4 md:p-8 min-h-[600px]">
                    <div id="project-list" class="md:col-span-4 lg:col-span-3 overflow-y-auto max-h-[600px] pr-2">
                        <p class="text-gray-500">Loading experience...</p>
                    </div>
                    <div class="md:col-span-8 lg:col-span-9 mt-8 md:mt-0">
                        <div id="project-details-content"></div>
                    </div>
                </div>
            </section>

            <section id="skills" class="mt-24 md:mt-32">
                <h2 class="text-3xl md:text-4xl font-bold text-center text-white">Core Competencies</h2>
                <div id="skills-container" class="mt-12 max-w-4xl mx-auto flex flex-wrap justify-center gap-3 md:gap-4"></div>
            </section>

            <section id="contact" class="mt-24 md:mt-32 text-center max-w-2xl mx-auto">
                <h2 class="text-3xl md:text-4xl font-bold text-white">Let's Connect</h2>
                <p class="mt-4 text-lg text-gray-400">
                    I'm passionate about solving complex business challenges. If you'd like to discuss opportunities or ideas, feel free to reach out.
                </p>
                <div class="mt-8 flex justify-center items-center gap-6">
                    <a href="mailto:rahul.jain.sample@email.com" class="text-gray-300 hover:accent-text font-medium transition flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                        Email
                    </a>
                    <a href="https://www.linkedin.com/in/yourprofile/" target="_blank" class="text-gray-300 hover:accent-text font-medium transition flex items-center gap-2">
                         <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
                        LinkedIn
                    </a>
                </div>
            </section>
        </main>

        <footer class="border-t border-gray-800 mt-24 md:mt-32">
            <div class="container mx-auto px-6 py-8 text-center text-gray-500">
                &copy; 2024 Rahul Jain. Designed with intent.
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            const projectListContainer = document.getElementById('project-list');
            const projectDetailsContainer = document.getElementById('project-details-content');
            const skillsContainer = document.getElementById('skills-container');

            let activeSkills = [];
            let allResumeData = [];

            try {
                const response = await fetch('./resume_data.json');
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                allResumeData = await response.json();
                initializePage(allResumeData);
            } catch (error) {
                console.error("Failed to load or parse resume data:", error);
                projectListContainer.innerHTML = `<p class="text-red-400">Error: Could not load work experience data. Please ensure 'resume_data.json' is in the repository.</p>`;
            }

            function initializePage(data) {
                renderProjectList(data);
                renderSkills(data);
                projectListContainer.addEventListener('click', handleProjectClick);
                skillsContainer.addEventListener('click', handleSkillClick);
            }

            function renderProjectList(data) {
                projectListContainer.innerHTML = '';
                let isFirstProject = true;

                data.forEach((company, companyIndex) => {
                    const companyHasVisibleProjects = company.projects.some(project => {
                        if (activeSkills.length === 0) return true;
                        return project.engagements.some(eng => activeSkills.every(skill => eng.tags.includes(skill)));
                    });

                    if (!companyHasVisibleProjects) return;

                    const companyHtml = `<h3 class="text-lg font-bold text-white mt-6 mb-3 first:mt-0">${company.company}</h3>`;
                    projectListContainer.insertAdjacentHTML('beforeend', companyHtml);

                    company.projects.forEach((project, projectIndex) => {
                        const projectIsVisible = activeSkills.length === 0 || project.engagements.some(eng => activeSkills.every(skill => eng.tags.includes(skill)));
                        
                        if (!projectIsVisible) return;

                        const projectHtml = `
                            <div class="project-item p-4 rounded-lg cursor-pointer border-l-4 border-transparent transition-all duration-200 hover:bg-gray-800" data-company-index="${companyIndex}" data-project-index="${projectIndex}">
                                <p class="font-semibold text-gray-200">${project.projectName}</p>
                            </div>
                        `;
                        projectListContainer.insertAdjacentHTML('beforeend', projectHtml);

                        if (isFirstProject) {
                            renderProjectDetails(project);
                            const firstItem = projectListContainer.querySelector('.project-item');
                            if (firstItem) firstItem.classList.add('active');
                            isFirstProject = false;
                        }
                    });
                });
                
                if (isFirstProject) { // No projects were rendered
                    projectListContainer.innerHTML = `<p class="text-gray-400">No projects match the selected skills.</p>`;
                    projectDetailsContainer.innerHTML = '';
                }
            }

            function renderProjectDetails(project) {
                projectDetailsContainer.style.opacity = 0;
                setTimeout(() => {
                    const allTags = [...new Set(project.engagements.flatMap(e => e.tags))];
                    const engagementsHtml = project.engagements.map(eng => `
                        <div class="mt-4 pt-4 border-t border-gray-800 first:mt-0 first:pt-0 first:border-none">
                            <h4 class="font-semibold text-gray-100 mb-1">${eng.skill} <span class="text-sm font-normal text-gray-500">(${eng.skill_bucket})</span></h4>
                            <p class="text-sm text-gray-400 mt-2"><strong class="text-gray-300">Situation:</strong> ${eng.situation}</p>
                            <p class="text-sm text-gray-400 mt-1"><strong class="text-gray-300">Task:</strong> ${eng.task}</p>
                            <p class="text-sm text-gray-400 mt-1"><strong class="text-gray-300">Result:</strong> ${eng.result}</p>
                        </div>
                    `).join('');

                    const detailsHtml = `
                        <div class="fade-in">
                            <h3 class="text-2xl font-bold text-white">${project.projectName}</h3>
                            <div class="mt-6 space-y-4 text-gray-300">
                                ${engagementsHtml}
                            </div>
                            <div class="mt-6 pt-4 border-t border-gray-700 flex flex-wrap gap-2">
                                ${allTags.map(tag => `<span class="bg-gray-700 text-gray-300 text-xs font-medium px-2.5 py-1 rounded-full">${tag}</span>`).join('')}
                            </div>
                        </div>
                    `;
                    projectDetailsContainer.innerHTML = detailsHtml;
                    projectDetailsContainer.style.opacity = 1;
                }, 200);
            }

            function renderSkills(data) {
                const allSkills = [...new Set(data.flatMap(c => c.projects.flatMap(p => p.engagements.flatMap(e => e.tags))))];
                allSkills.sort();
                skillsContainer.innerHTML = allSkills.map(skill => `
                    <div class="skill-tag bg-gray-800 border border-gray-700 text-gray-300 font-medium px-4 py-2 rounded-full" data-skill="${skill}">${skill}</div>
                `).join('');
            }

            function handleProjectClick(e) {
                const targetItem = e.target.closest('.project-item');
                if (!targetItem) return;

                const { companyIndex, projectIndex } = targetItem.dataset;
                const projectData = allResumeData[companyIndex]?.projects[projectIndex];
                
                if (projectData) {
                    document.querySelectorAll('.project-item').forEach(item => item.classList.remove('active'));
                    targetItem.classList.add('active');
                    renderProjectDetails(projectData);
                }
            }

            function handleSkillClick(e) {
                const targetTag = e.target.closest('.skill-tag');
                if (!targetTag) return;

                const skill = targetTag.dataset.skill;
                targetTag.classList.toggle('active');

                if (activeSkills.includes(skill)) {
                    activeSkills = activeSkills.filter(s => s !== skill);
                } else {
                    activeSkills.push(skill);
                }
                renderProjectList(allResumeData);
            }
        });
    </script>
</body>
</html>